window.aGTM=window.aGTM||{},aGTM.d=aGTM.d||{config:!1,init:!1,fired:!1},aGTM.f=aGTM.f||{},aGTM.l=aGTM.l||[],aGTM.n=aGTM.n||{},aGTM.f.consent_check=function(e){if("string"!=typeof e||"init"!=e&&"update"!=e)return"function"==typeof aGTM.f.log&&aGTM.f.log("e10",{action:e}),!1;if(aGTM.d.consent=aGTM.d.consent||{},"init"==e&&aGTM.d.consent.hasResponse)return!0;if("function"!=typeof sp||"object"!=typeof sp.allGivenConsents||!sp.allGivenConsents||"function"!=typeof sp.checkConsent)return!1;for(var n=[],o=[],t=[],s=[],a=0,c=0;c<sp.allGivenConsents.length;c++){var i=sp.allGivenConsents[c];if("object"==typeof i&&i&&void 0!==i.ComplianceTypeID&&"string"==typeof i.ComplianceType&&(i.ConsentGiven&&(n.push(i.ComplianceType),o.push(String(i.ComplianceTypeID))),"string"==typeof i.PluginPreferences)){try{var p=JSON.parse(i.PluginPreferences)}catch(e){p=[]}if("object"==typeof p&&"number"==typeof p.length&&p)for(var f=0;f<p.length;f++){var l=p[f];"object"==typeof l&&l&&void 0!==i.ComplianceTypeID&&"string"==typeof l.ComplianceType&&(a++,sp.checkConsent(l.ComplianceType)&&(t.push(l.ComplianceType),s.push(String(l.ComplianceTypeID))))}}}aGTM.d.consent.purposes=","+n.join(",")+",",aGTM.d.consent.purposesIDs=","+o.join(",")+",",aGTM.d.consent.services=","+t.join(",")+",",aGTM.d.consent.servicesIDs=","+s.join(",")+",",aGTM.d.consent.feedback="Consent given by user",t.length>0&&t.length==a?aGTM.d.consent.feedback="Consent full accepted":t.length>0&&t.length<a?aGTM.d.consent.feedback="Consent partially accepted":0==t.length&&a>0&&(aGTM.d.consent.feedback="Consent declined"),aGTM.d.consent.hasResponse=!0};