window.aGTM=window.aGTM||{},aGTM.d=aGTM.d||{config:!1,init:!1,fired:!1},aGTM.f=aGTM.f||{},aGTM.l=aGTM.l||[],aGTM.f.consent_check=function(e){if("string"!=typeof e||"init"!=e&&"update"!=e)return"function"==typeof aGTM.f.log&&aGTM.f.log("e10",{action:e}),!1;if(aGTM.d.consent=aGTM.d.consent||{},"init"==e&&aGTM.d.consent.hasResponse)return!0;if("object"!=typeof __ucCmp||"object"!=typeof __ucCmp.cmpController||"object"!=typeof __ucCmp.cmpController.dps||"object"!=typeof __ucCmp.cmpController.dps.categories||"object"!=typeof __ucCmp.cmpController.dps.services)return!1;var n=__ucCmp.cmpController.dps.categories,o=[],t=0;for(var s in n)if(n.hasOwnProperty(s)&&-1===o.indexOf(s)){t++;var c=n[s].state;"ALL_ACCEPTED"!==c&&"SOME_ACCEPTED"!==c||o.push(s)}var r=__ucCmp.cmpController.dps.services,i=[],a=[],p=0,l=0;for(var d in r)if(r.hasOwnProperty(d)){p++;var f=r[d];if(f.essential&&-1===a.indexOf(d)&&l++,f.consent&&f.consent.given&&(-1===i.indexOf(f.name)&&i.push(f.name),-1===a.indexOf(d)&&a.push(d)),f.subservices)for(var u in f.subservices)if(f.subservices.hasOwnProperty(u)){p++;var _=f.subservices[u];_.essential&&-1===a.indexOf(u)&&l++,_.consent&&_.consent.given&&(i.push(_.name),a.push(u))}}o.length>0&&(aGTM.d.consent.purposes=","+o.join(",")+","),i.length>0&&(aGTM.d.consent.services=","+i.join(",")+","),a.length>0&&(aGTM.d.consent.serviceIDs=","+a.join(",")+",");var C="Consent available";i.length>0&&i.length==p?C="Consent full accepted":i.length>0&&i.length>l?C="Consent partially accepted":i.length>0&&i.length==l?C="Consent declined":0==i.length&&(C="No Consent configured"),aGTM.d.consent.feedback=C,aGTM.d.consent.consent_id="","object"==typeof __ucCmp.cmpController.consent&&"string"==typeof __ucCmp.cmpController.consent.controllerId&&(aGTM.d.consent.consent_id=__ucCmp.cmpController.consent.controllerId);var T=JSON.parse(JSON.stringify(aGTM.d.consent));return T.purposes=o,T.purpose_counter=t,T.services=i,T.service_ids=a,T.service_counter=p,T.service_essential_counter=l,T.feedback=C,T.consent_id=aGTM.d.consent.consent_id,window.usercentrics_aData=T,aGTM.d.consent.hasResponse=!0,"function"==typeof aGTM.f.log&&aGTM.f.log("m2",JSON.parse(JSON.stringify(aGTM.d.consent))),!0};