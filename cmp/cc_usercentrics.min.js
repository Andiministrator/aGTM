window.aGTM=window.aGTM||{},aGTM.d=aGTM.d||{config:!1,init:!1,fired:!1},aGTM.f=aGTM.f||{},aGTM.l=aGTM.l||[],aGTM.f.consent_check=function(n){if("string"!=typeof n||"init"!=n&&"update"!=n)return"function"==typeof aGTM.f.log&&aGTM.f.log("e10",{action:n}),!1;if(aGTM.d.consent=aGTM.d.consent||{},"init"==n&&aGTM.d.consent.hasResponse)return!0;if("object"!=typeof UC_UI||"function"!=typeof UC_UI.getServicesBaseInfo)return!1;var t=UC_UI.getServicesBaseInfo();if("object"!=typeof t)return!1;if(0==t.length)return!1;for(var e="string"==typeof aGTM.c.purposes?aGTM.c.purposes:"",o=0,s=aGTM.c.services?aGTM.c.services.split(","):[],i=[],a=0,r=0,c=0;c<t.length;c++){if("object"!=typeof t[c].consent)return!1;if("string"==typeof t[c].id){var f=t[c].consent;if("object"!=typeof f.history)return!1;if("boolean"!=typeof f.status||0==f.history.length)return!1;if(1==f.history.length&&"string"==typeof f.history[0].action&&"onInitialPageLoad"==f.history[0].action&&!f.status)return!1;if(aGTM.d.consent.nonEU=aGTM.d.consent.nonEU||!1,f.history.length>0)for(var l=0;l<f.history.length;l++)"string"==typeof f.history[l].action&&"boolean"==typeof f.history[l].status&&"onNonEURegion"==f.history[l].action&&f.history[l].status&&(aGTM.d.consent.nonEU=!0);if(a++,(aGTM.d.consent.nonEU||"boolean"==typeof t[c].isEssential&&t[c].isEssential)&&r++,f.status){s.push("string"==typeof t[c].name?t[c].name.replace(",",""):t[c].id),i.push(t[c].id);var p="string"==typeof t[c].categorySlug?t[c].categorySlug.replace(",",""):"Unknown Purpose "+(o+1).toString();e.indexOf(","+p+",")<0&&(o++,e||(e=","),e=e+p+",")}}}aGTM.d.consent.purposes=e,s.length>0&&(aGTM.d.consent.services=","+s.join(",")+","),i.length>0&&(aGTM.d.consent.serviceIDs=","+i.join(",")+",");var g="Consent available";return s.length<=r?g="Consent declined":s.length==a?g="Consent full accepted":a>s.length&&(g="Consent partially accepted"),aGTM.d.consent.feedback=g,"function"==typeof UC_UI.getControllerId&&(aGTM.d.consent.consent_id=UC_UI.getControllerId()),aGTM.d.consent.hasResponse=!0,"function"==typeof aGTM.f.log&&aGTM.f.log("m2",JSON.parse(JSON.stringify(aGTM.d.consent))),!0};