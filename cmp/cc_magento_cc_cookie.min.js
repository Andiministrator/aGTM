window.aGTM=window.aGTM||{},aGTM.d=aGTM.d||{config:!1,init:!1,fired:!1},aGTM.f=aGTM.f||{},aGTM.l=aGTM.l||[],aGTM.n=aGTM.n||{},aGTM.f.consent_check=function(e){if("string"!=typeof e||"init"!=e&&"update"!=e)return"function"==typeof aGTM.f.log&&aGTM.f.log("e10",{action:e}),!1;if(aGTM.d.consent=aGTM.d.consent||{},"init"==e&&aGTM.d.consent.hasResponse)return!0;var n="co";n+="ok",n+="ie";var t=new RegExp("cc_"+n+"=([^;]+)");try{var o=document,s=t.exec(o[n])}catch(e){}if(void 0===s)s="";else"string"!=typeof(s=null!=s?s[1]:"")&&(s=s.toString());if(!s)return g;try{var r=JSON.parse(decodeURIComponent(s))}catch(e){return console.log("Error by Consent Check: "+e.message),!1}if("object"!=typeof r||"object"!=typeof r.categories||"object"!=typeof r.services)return!1;for(var a=[],c=[],i=0,f=0;f<r.categories.length;f++)"string"==typeof r.categories[f]&&r.categories[f]&&a.push(r.categories[f]);for(k in r.services)if("string"==typeof k&&"object"==typeof r.services[k]){var g=r.services[k];for(f=0;f<g.length;f++)"string"==typeof g[f]&&g[f]&&(c.push(g[f]),"necessary"!=k&&"essential"!=k||i++)}a.length>0&&(a.sort(),aGTM.d.consent.purposes=","+a.join(",")+","),c.length>0&&(c.sort(),aGTM.d.consent.services=","+c.join(",")+",");var p="No Services";return c.length>0&&c.length==i?p="Consent declined":c.length>0&&c.length>i&&(p="Consent accepted"),aGTM.d.consent.feedback=p,aGTM.d.consent.hasResponse=!0,"function"==typeof aGTM.f.log&&aGTM.f.log("m2",JSON.parse(JSON.stringify(aGTM.d.consent))),!0};